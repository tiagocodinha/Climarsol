backend:
  name: git-gateway
  branch: main

media_folder: "/content/projetos"
public_folder: "/content/projetos"

locale: "pt"

collections:
  - name: "projects"
    label: "Projetos"
    label_singular: "Projeto"
    description: "Projetos do portf√≥lio Climarsol"
    delete: false
    editor:
      preview: false

    files:
      - name: "projects_json"
        label: "Lista de projetos"
        file: "data/projects.json"
        format: "json"
        description: "Lista de projetos mostrados no Portf√≥lio e na Homepage"

        fields:
          - label: "Projetos"
            name: "projects"
            widget: "list"
            collapsed: true
            allow_add: true
            summary: "{{fields.title}} ({{fields.category}})"

            fields:
              - { label: "T√≠tulo", name: "title", widget: "string" }

              - label: "Categoria"
                name: "category"
                widget: "select"
                options:
                  - { label: "Cozinhas", value: "cozinhas" }
                  - { label: "Roupeiros", value: "roupeiros" }
                  - { label: "Portas", value: "portas" }
                  - { label: "Escadas", value: "escadas" }
                  - { label: "Outros", value: "outros" }

              - label: "Imagem principal"
                name: "image"
                widget: "image"
                media_folder: "/content/projetos"
                public_folder: "/content/projetos"

              # üëá Conte√∫dos adicionais: imagem com upload OU v√≠deo por URL
              - label: "Conte√∫dos adicionais (imagens ou v√≠deos) (opcional)"
                name: "gallery"
                widget: "list"
                required: false
                collapsed: true
                fields:
                  - label: "Tipo"
                    name: "type"
                    widget: "select"
                    options:
                      - { label: "Imagem", value: "image" }
                      - { label: "V√≠deo", value: "video" }

                  # Imagem extra: fazes upload normal
                  - label: "Imagem (se escolher Imagem)"
                    name: "image"
                    widget: "image"
                    required: false
                    media_folder: "/content/projetos"
                    public_folder: "/content/projetos"

                  # V√≠deo: s√≥ URL (ex: https://climarsol.pt/media/MetaTest.mp4)
                  - label: "URL do v√≠deo (se escolher V√≠deo)"
                    name: "video_url"
                    widget: "string"
                    required: false
